version: '{build}'
pull_requests:
  do_not_increment_build_number: true
skip_tags: true
image: Visual Studio 2022
environment:
  Module: J81.PSScriptTools
  Source: J81.PSScriptTools
  GitHubKey:
    secure: oQiZ+bhbS5xA+tjgAIVgKU7sMwChNJJn39uEGpVDxeXA5UGlM6hj02RnFb5b8fWplimsRaysdj+3qCbdT00WD+D79J7jouPQc078rih+P0Dm5e0+3cPlvKtEcjVWFtmK
  NuGetApiKey:
    secure: YwxXd/Jx/yaf0AGulj6ORENSYo09OESJZ3kJGzVH8xxkLDOQEMhaUFO3tuFg71bc
  NugetApiTestKey:
    secure: 8g8ojouW10W8RQ922a5uRcfpavoWESCftkitrBGsMlQWo4HDoyQlCgr3Sb98tXAQ
install:
- ps: . .\ci\Install.ps1
build_script:
- ps: . .\ci\GitHub.ps1
- ps: . .\ci\Build.ps1
test_script:
- ps: . .\ci\Tests.ps1
- ps: . .\ci\GitHub.ps1
deploy_script:
- ps: . .\ci\Deploy.ps1

skip_commits:
  message: /AppVeyor validate.*|Merge branch 'main' of.*|Update docs.*/

only_commits:
  files:
    - J81.PSScriptTools/**/*
